!function(a){var b={};a.fn.baldrick.registerhelper("handlebars",{bind:function(c,d){var e=c.filter("[data-template-url]");e.length&&e.each(function(){var c=a(this);if("undefined"==typeof b[c.data("templateUrl")]){if(b[c.data("templateUrl")]=!0,"undefined"!=typeof Storage){var d,e;c.data("cacheLocal")?(e=c.data("cacheLocal"),d=localStorage.getItem("handlebars_"+e)):c.data("cacheSession")&&(e=c.data("cacheSession"),d=sessionStorage.getItem("handlebars_"+e))}d&&(b[c.data("templateUrl")]=Handlebars.compile(d))}})},request:function(c,d){return c.params.trigger.data("templateUrl")&&"boolean"==typeof b[c.params.trigger.data("templateUrl")]?(a.get(c.params.trigger.data("templateUrl"),function(a,d,e){b[c.params.trigger.data("templateUrl")]=Handlebars.compile(e.responseText),c.params.trigger.trigger(c.params.event)}),!1):c},request_params:function(a,b,c){return(c.trigger.data("templateUrl")||c.trigger.data("template"))&&"object"==typeof Handlebars?(a.dataType="json",a):void 0},filter:function(c,d){return c.params.trigger.data("templateUrl")?"function"==typeof b[c.params.trigger.data("templateUrl")]&&(c.data=b[c.params.trigger.data("templateUrl")](c.data)):c.params.trigger.data("template")&&("function"==typeof b[c.params.trigger.data("template")]?c.data=b[c.params.trigger.data("template")](c.data):a(c.params.trigger.data("template"))&&(b[c.params.trigger.data("template")]=Handlebars.compile(a(c.params.trigger.data("template")).html()),c.data=b[c.params.trigger.data("template")](c.data))),c}})}(jQuery),Handlebars.registerHelper("even",function(a){var b=a.data.index/2;return b===Math.ceil(b)?a.fn(this):!1}),Handlebars.registerHelper("odd",function(a){var b=a.data.index/2;return b===Math.ceil(b)?!1:a.fn(this)}),Handlebars.registerHelper("json",function(a){return a&&a._tab&&delete a._tab,JSON.stringify(a,null,3)}),Handlebars.registerHelper(":node_point",function(a){if(this._node_point){var b=this._node_point.split("."),c=b.join("][")+"]",d=c.replace(b[0]+"]",b[0]);return new Handlebars.SafeString('<input type="hidden" name="'+d+'[_id]" value="'+b[b.length-1]+'"><input type="hidden" name="'+d+'[_node_point]" value="'+this._node_point+'">')}}),Handlebars.registerHelper(":name",function(a){if(this._node_point){var b=this._node_point.split("."),c=b.join("][")+"]",d=c.replace(b[0]+"]",b[0]);return d}}),Handlebars.registerHelper("find",function(a,b,c){if("undefined"==typeof a||"undefined"==typeof a[b]){for(var d in a){if("undefined"!=typeof a[d]&&"undefined"!=typeof a[d][b])return"string"!=typeof a[d][b]||""!==a[d][b]&&null!==a[d][b]&&a[d][b]!==!1?c.fn(a[d]):c.inverse(this);if(a[d]===b)return c.fn(a[d])}return c.inverse(this)}return c.fn(a[b])}),Handlebars.registerHelper("is_single",function(a,b){return 1!==Object.keys(a).length?!1:b.fn(this)}),Handlebars.registerHelper("script",function(a){var b=[];for(var c in a.hash)b.push(c+'="'+a.hash[c]+'"');return"<script "+b.join(" ")+">"+a.fn(this)+"</script>"}),Handlebars.registerHelper("is",function(a,b){return b.hash.value?("@key"===b.hash.value&&(b.hash.value=b.data.key),b.hash.value===a?b.fn(this):this[b.hash.value]&&this[b.hash.value]===a?b.fn(this):b.inverse(this)):b.hash.not?("@key"===b.hash.not&&(b.hash.not=b.data.key),b.hash.not!==a?b.fn(this):this[b.hash.not]&&this[b.hash.not]!==a?b.fn(this):b.inverse(this)):void 0}),Handlebars.registerHelper("load_partial",function(a,b,c){var d=Handlebars.partials;return"function"!=typeof d[a]&&(d[a]=Handlebars.compile(d[a])),d[a](b,c)});